{"remainingRequest":"/Users/gabriella/Documents/data/node_modules/babel-loader/lib/index.js!/Users/gabriella/Documents/data/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gabriella/Documents/data/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gabriella/Documents/data/src/components/Diagram.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gabriella/Documents/data/src/components/Diagram.vue","mtime":1608117011956},{"path":"/Users/gabriella/Documents/data/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabriella/Documents/data/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gabriella/Documents/data/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabriella/Documents/data/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGlhZ3JhbSIsCiAgcHJvcHM6IFsianNvbiIsICJzZWxlY3RlZCIsICJzZWxlY3QiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YToge30sCiAgICAgIHNlbGVjdGVkT2JqOiAnJwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RlZDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKFByb3BzKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZE9iaiA9IFByb3BzOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoUHJvcHMpIHsKICAgICAgICB0aGlzLnNlbGVjdCA9IFByb3BzOwogICAgICB9CiAgICB9LAogICAganNvbjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKFByb3BzKSB7CiAgICAgICAgdmFyIGV4dGVuZEtleSA9IGZ1bmN0aW9uIGV4dGVuZEtleShqc29uRGF0YSkgewogICAgICAgICAganNvbkRhdGEuZXh0ZW5kID0ganNvbkRhdGEuZXh0ZW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFqc29uRGF0YS5leHRlbmQ7CgogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbkRhdGEuY2hpbGRyZW4pKSB7CiAgICAgICAgICAgIGpzb25EYXRhLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgICBleHRlbmRLZXkoYyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBqc29uRGF0YTsKICAgICAgICB9OwoKICAgICAgICBpZiAoUHJvcHMpIHsKICAgICAgICAgIHRoaXMuZGF0YSA9IGV4dGVuZEtleShQcm9wcyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUV4dGVuZDogZnVuY3Rpb24gdG9nZ2xlRXh0ZW5kKGRhdGEpIHsKICAgICAgZGF0YS5leHRlbmQgPSAhZGF0YS5leHRlbmQ7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogICAgY2xpY2tOb2RlOiBmdW5jdGlvbiBjbGlja05vZGUoZGF0YSkgewogICAgICB0aGlzLnNlbGVjdChkYXRhLm5hbWUpOwogICAgICB0aGlzLiRub3RpZnkoewogICAgICAgIGdyb3VwOiAnbm90aWZpY2F0aW9ucycsCiAgICAgICAgY2xlYW46IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgZ3JvdXA6ICdub3RpZmljYXRpb25zJywKICAgICAgICB0aXRsZTogZGF0YS5uYW1lLAogICAgICAgIHRleHQ6IGRhdGEuZGVzY3JpcHRpb24KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Diagram.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,QAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,KAAA,EAAA;AACA,aAAA,WAAA,GAAA,KAAA;AACA;AAHA,KADA;AAMA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,KAAA,EAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA;AAHA,KANA;AAWA,IAAA,IAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,KAAA,EAAA;AACA,YAAA,SAAA,GAAA,SAAA,SAAA,CAAA,QAAA,EAAA;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,QAAA,CAAA,MAAA,KAAA,SAAA,GAAA,IAAA,GAAA,CAAA,CAAA,QAAA,CAAA,MAAA;;AAEA,cAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,SAAA,CAAA,CAAA,CAAA;AACA,aAFA;AAGA;;AACA,iBAAA,QAAA;AACA,SATA;;AAWA,YAAA,KAAA,EAAA;AACA,eAAA,IAAA,GAAA,SAAA,CAAA,KAAA,CAAA;AACA;AAEA,OAjBA;AAkBA,MAAA,SAAA,EAAA;AAlBA;AAXA,GATA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,sBAAA,IAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,WAAA,YAAA;AACA,KAJA;AAKA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA;AAAA,QAAA,KAAA,EAAA,eAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA,WAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,eADA;AAEA,QAAA,KAAA,EAAA,IAAA,CAAA,IAFA;AAGA,QAAA,IAAA,EAAA,IAAA,CAAA;AAHA,OAAA;AAKA;AAbA;AAzCA,CAAA","sourcesContent":["<template>\n    <table v-if=\"data.name\">\n        <tr>\n            <td class=\"diagram-cell\" :colspan=\"Array.isArray(data.children) ? data.children.length * 2 : 1\"\n                :class=\"{parentLevel: Array.isArray(data.children) && data.children.length,\n                    extend: Array.isArray(data.children) && data.children.length && data.extend}\">\n                <div :class=\"{node: true, 'selected': selectedObj === data.name}\">\n                    <div class=\"diagram-item\"\n                         :class=\"Array.isArray(data.class) ? data.class : []\"\n                         @click=\"clickNode(data)\">\n                        <div class=\"name\">{{data.name}}</div>\n                    </div>\n                </div>\n                <div class=\"extend_handle\" v-if=\"Array.isArray(data.children) && data.children.length\"\n                     @click=\"toggleExtend(data)\"></div>\n            </td>\n        </tr>\n        <tr v-if=\"Array.isArray(data.children) && data.children.length && data.extend\">\n            <td :class=\"['level', 'diagram-cell'] \"\n                v-for=\"(children, index) in data.children\"\n                :key=\"index\"\n                colspan=\"2\">\n                <Diagram :json=\"children\" :selected=\"selectedObj\" :select=\"select\"/>\n            </td>\n        </tr>\n    </table>\n</template>\n\n<script>\n  export default {\n    name: \"Diagram\",\n    props: [\"json\", \"selected\", \"select\"],\n    data() {\n      return {\n        data: {},\n        selectedObj: '',\n      }\n    },\n    watch: {\n      selected: {\n        handler: function (Props) {\n          this.selectedObj = Props;\n        }\n      },\n      select: {\n        handler: function (Props) {\n          this.select = Props;\n        }\n      },\n      json: {\n        handler: function (Props) {\n          let extendKey = function (jsonData) {\n            jsonData.extend = (jsonData.extend === undefined ? true : !!jsonData.extend);\n\n            if (Array.isArray(jsonData.children)) {\n              jsonData.children.forEach(c => {\n                extendKey(c);\n              })\n            }\n            return jsonData;\n          };\n\n          if (Props) {\n            this.data = extendKey(Props);\n          }\n\n        },\n        immediate: true\n      },\n    },\n    methods: {\n      toggleExtend: function (data) {\n        data.extend = !data.extend;\n        this.$forceUpdate();\n      },\n      clickNode: function (data) {\n        this.select(data.name);\n        this.$notify({group: 'notifications', clean: true});\n        this.$notify({\n          group: 'notifications',\n          title: data.name,\n          text: data.description,\n        });\n      },\n\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n    //node style\n    .diagram {\n        border-collapse: separate !important;\n        border-spacing: 0 !important;\n        .diagram-cell {\n            position: relative;\n            vertical-align: top;\n            padding: 0 0 50px 0;\n            text-align: center;\n\n            .node {\n                cursor: pointer;\n                position: relative;\n                display: inline-block;\n                margin: 0 1em;\n                box-sizing: border-box;\n                text-align: center;\n                border-radius: 0 10px;\n                border: #cccccc 1px solid;\n\n                .diagram-item {\n                    width: 200px;\n                    height: 100px;\n\n                    .name {\n                        padding: 16px;\n                    }\n                }\n            }\n\n            .selected {\n                border: #2e776d 1px solid;\n            }\n\n            .extend_handle {\n                position: absolute;\n                left: 50%;\n                bottom: 30px;\n                width: 10px;\n                height: 10px;\n                padding: 10px;\n                transform: translate3d(-15px, 0, 0);\n                cursor: pointer;\n\n                &:before {\n                    content: \"\";\n                    display: block;\n                    width: 100%;\n                    height: 100%;\n                    box-sizing: border-box;\n                    border: 2px solid;\n                    border-color: #ccc #ccc transparent transparent;\n                    transform: rotateZ(135deg);\n                    transform-origin: 50% 50% 0;\n                    transition: transform ease 300ms;\n                }\n\n                &:hover:before {\n                    border-color: #333 #333 transparent transparent;\n                }\n            }\n\n            .extend .extend_handle:before {\n                transform: rotateZ(-45deg);\n            }\n\n            .extend::after {\n                content: \"\";\n                position: absolute;\n                left: 50%;\n                bottom: 15px;\n                height: 15px;\n                border-left: 2px solid #ccc;\n                transform: translate3d(-1px, 0, 0)\n            }\n\n        }\n    }\n\n    //connective lines style\n    .level {\n        &::before {\n            content: \"\";\n            position: absolute;\n            left: 50%;\n            bottom: 100%;\n            height: 15px;\n            border-left: 2px solid #ccc;\n            transform: translate3d(-1px, 0, 0)\n        }\n\n        &::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            right: 0;\n            top: -15px;\n            border-top: 2px solid #ccc;\n        }\n\n        &:first-child:before, .level:last-child:before {\n            display: none;\n        }\n\n        &:first-child:after {\n            left: 50%;\n            height: 15px;\n            border: 2px solid;\n            border-color: #ccc transparent transparent #ccc;\n            border-radius: 6px 0 0 0;\n            transform: translate3d(1px, 0, 0)\n        }\n\n        &:last-child:after {\n            right: 50%;\n            height: 15px;\n            border: 2px solid;\n            border-color: #ccc #ccc transparent transparent;\n            border-radius: 0 6px 0 0;\n            transform: translate3d(-1px, 0, 0)\n        }\n\n        &:first-child.level:last-child::after {\n            left: auto;\n            border-radius: 0;\n            border-color: transparent #ccc transparent transparent;\n            transform: translate3d(1px, 0, 0)\n        }\n    }\n</style>\n\n"],"sourceRoot":"src/components"}]}