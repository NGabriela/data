{"remainingRequest":"/Users/gabriella/Documents/test4/data/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gabriella/Documents/test4/data/src/components/TreeChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gabriella/Documents/test4/data/src/components/TreeChart.vue","mtime":1608059365466},{"path":"/Users/gabriella/Documents/test4/data/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabriella/Documents/test4/data/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gabriella/Documents/test4/data/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabriella/Documents/test4/data/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVHJlZUNoYXJ0IiwKICBwcm9wczogWyJqc29uIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyZWVEYXRhOiB7fQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGpzb246IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24oUHJvcHMpewogICAgICAgIGxldCBleHRlbmRLZXkgPSBmdW5jdGlvbihqc29uRGF0YSl7CiAgICAgICAgICBqc29uRGF0YS5leHRlbmQgPSAoanNvbkRhdGEuZXh0ZW5kPT09dm9pZCAwID8gdHJ1ZTogISFqc29uRGF0YS5leHRlbmQpOwogICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShqc29uRGF0YS5jaGlsZHJlbikpewogICAgICAgICAgICBqc29uRGF0YS5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gewogICAgICAgICAgICAgIGV4dGVuZEtleShjKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGpzb25EYXRhOwogICAgICAgIH0KICAgICAgICBpZihQcm9wcyl7CiAgICAgICAgICB0aGlzLnRyZWVEYXRhID0gZXh0ZW5kS2V5KFByb3BzKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlRXh0ZW5kOiBmdW5jdGlvbih0cmVlRGF0YSl7CiAgICAgIHRyZWVEYXRhLmV4dGVuZCA9ICF0cmVlRGF0YS5leHRlbmQ7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["TreeChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TreeChart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n        <table class=\"diagram\" v-if=\"treeData.name\">\n            <tr>\n                <td class=\"diagram-cell\" :colspan=\"Array.isArray(treeData.children) ? treeData.children.length * 2 : 1\"\n                    :class=\"{parentLevel: Array.isArray(treeData.children) && treeData.children.length, extend: Array.isArray(treeData.children) && treeData.children.length && treeData.extend}\"\n                >\n                    <div :class=\"{node: true, hasMate: treeData.mate}\">\n                        <div class=\"person\"\n                             :class=\"Array.isArray(treeData.class) ? treeData.class : []\"\n                             @click=\"$emit('click-node', treeData)\"\n                        >\n                            <div class=\"avat\">\n                                <p>{{treeData.name}}</p>\n                                <img :src=\"treeData.image_url\" />\n                            </div>\n                            <div class=\"name\">{{treeData.name}}</div>\n                        </div>\n                        <template v-if=\"Array.isArray(treeData.mate) && treeData.mate.length\">\n                            <div class=\"person\" v-for=\"(mate, mateIndex) in treeData.mate\" :key=\"treeData.name+mateIndex\"\n                                 :class=\"Array.isArray(mate.class) ? mate.class : []\"\n                                 @click=\"$emit('click-node', mate)\"\n                            >\n                                <div class=\"avat\">\n                                    <div class=\"name\">{{mate.description}}</div>\n                                </div>\n                                <div class=\"name\">{{mate.name}}</div>\n                            </div>\n                        </template>\n                    </div>\n                    <div class=\"extend_handle\" v-if=\"Array.isArray(treeData.children) && treeData.children.length\" @click=\"toggleExtend(treeData)\"></div>\n                </td>\n            </tr>\n            <tr v-if=\"Array.isArray(treeData.children) && treeData.children.length && treeData.extend\">\n                <td class=\"childLevel diagram-cell\" v-for=\"(children, index) in treeData.children\" :key=\"index\" colspan=\"2\" >\n                    <TreeChart :json=\"children\" @click-node=\"$emit('click-node', $event)\"/>\n                </td>\n            </tr>\n        </table>\n</template>\n\n<script>\nexport default {\n  name: \"TreeChart\",\n  props: [\"json\"],\n  data() {\n    return {\n      treeData: {}\n    }\n  },\n  watch: {\n    json: {\n      handler: function(Props){\n        let extendKey = function(jsonData){\n          jsonData.extend = (jsonData.extend===void 0 ? true: !!jsonData.extend);\n          if(Array.isArray(jsonData.children)){\n            jsonData.children.forEach(c => {\n              extendKey(c)\n            })\n          }\n          return jsonData;\n        }\n        if(Props){\n          this.treeData = extendKey(Props);\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    toggleExtend: function(treeData){\n      treeData.extend = !treeData.extend;\n      this.$forceUpdate();\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\">\n    .diagram{\n        border-collapse: separate!important;border-spacing: 0!important;\n    }\n    .diagram-cell{position: relative; vertical-align: top;padding:0 0 50px 0;text-align: center; }\n.extend_handle{position: absolute;left:50%;bottom:30px; width:10px;height: 10px;padding:10px;transform: translate3d(-15px,0,0);cursor: pointer;}\n.extend_handle:before{content:\"\"; display: block; width:100%;height: 100%;box-sizing: border-box; border:2px solid;border-color:#ccc #ccc transparent transparent;\ntransform: rotateZ(135deg);transform-origin: 50% 50% 0;transition: transform ease 300ms;}\n.extend_handle:hover:before{border-color:#333 #333 transparent transparent;}\n.extend .extend_handle:before{transform: rotateZ(-45deg);}\n\n.extend::after{content: \"\";position: absolute;left:50%;bottom:15px;height:15px;border-left:2px solid #ccc;transform: translate3d(-1px,0,0)}\n.childLevel::before{content: \"\";position: absolute;left:50%;bottom:100%;height:15px;border-left:2px solid #ccc;transform: translate3d(-1px,0,0)}\n.childLevel::after{content: \"\";position: absolute;left:0;right:0;top:-15px;border-top:2px solid #ccc;}\n.childLevel:first-child:before, .childLevel:last-child:before{display: none;}\n.childLevel:first-child:after{left:50%;height:15px; border:2px solid;border-color:#ccc transparent transparent #ccc;border-radius: 6px 0 0 0;transform: translate3d(1px,0,0)}\n.childLevel:last-child:after{right:50%;height:15px; border:2px solid;border-color:#ccc #ccc transparent transparent;border-radius: 0 6px 0 0;transform: translate3d(-1px,0,0)}\n.childLevel:first-child.childLevel:last-child::after{left:auto;border-radius: 0;border-color:transparent #ccc transparent transparent;transform: translate3d(1px,0,0)}\n\n.node{position: relative; display: inline-block;margin: 0 1em;box-sizing: border-box; text-align: center;}\n.node .person{position: relative; display: inline-block;z-index: 2;width:6em; overflow: hidden;}\n.node .person .avat{display: block;width:4em;height: 4em;margin:auto;overflow:hidden; background:#fff;border:1px solid #ccc;box-sizing: border-box;}\n.node .person .avat img{width:100%;height: 100%;}\n.node .person .name{height:2em;line-height: 2em;overflow: hidden;width:100%;}\n.node.hasMate::after{content: \"\";position: absolute;left:2em;right:2em;top:2em;border-top:2px solid #ccc;z-index: 1;}\n/* 横板 */\n.landscape{transform:translate(-100%,0) rotate(-90deg);transform-origin: 100% 0;}\n.landscape .node{text-align: left;height: 8em;width:8em;}\n.landscape .person{position: relative; transform: rotate(90deg);padding-left: 4.5em;height: 4em;top:4em;left: -1em;}\n.landscape .person .avat{position: absolute;left: 0;}\n.landscape .person .name{height: 4em; line-height: 4em;}\n.landscape .hasMate{position: relative;}\n.landscape .hasMate .person{position: absolute; }\n.landscape .hasMate .person:first-child{left:auto; right:-4em;}\n.landscape .hasMate .person:last-child{left: -4em;margin-left:0;}\n</style>\n\n"]}]}